<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=520" />
    <style type="text/css">
      .isotope-item {
        z-index: 2;
      }

      .isotope-hidden.isotope-item {
        pointer-events: none;
        z-index: 1;
      }

      /**** Isotope CSS3 transitions ****/

      .isotope,
      .isotope .isotope-item {
        -webkit-transition-duration: 0.8s;
        -moz-transition-duration: 0.8s;
        -o-transition-duration: 0.8s;
        transition-duration: 0.8s;
      }

      .isotope {
        -webkit-transition-property: height, width;
        -moz-transition-property: height, width;
        -o-transition-property: height, width;
        transition-property: height, width;
      }

      .isotope .isotope-item {
        -webkit-transition-property: -webkit-transform, opacity;
        -moz-transition-property:    -moz-transform, opacity;
        -o-transition-property:         top, left, opacity;
        transition-property:         transform, opacity;
      }

      /**** disabling Isotope CSS3 transitions ****/

      .isotope.no-transition,
      .isotope.no-transition .isotope-item,
      .isotope .isotope-item.no-transition {
        -webkit-transition-duration: 0s;
        -moz-transition-duration: 0s;
        -o-transition-duration: 0s;
        transition-duration: 0s;
      }

      /** custom styles for buildboard */

      /* layout */
      body {
        margin: 0px;
        padding: 15px 20px;
        font-family: "Lucida Grande", "Tahoma", "Verdana", sans-serif;
        font-size: 12px;
      }

      h1.generated-header {
        position: absolute;
        margin: 0px;
        padding: 0px;
        left: 33px;
      }

      p {
        margin: 4px 0px;
      }

      a, a:visited, a:active {
        color: #00c;
      }
      a:hover {
        color: #06c;
      }

      ul, ul li {
        list-style-type: none;
        margin: 4px;
        padding: 0px 6px;
      }

      #controls {
        padding-bottom: 8px;
      }

      #controls ul {
        display: inline-block;
      }

      #controls ul li {
        display: inline-block;
        padding: 0px;
      }

      .isotope .item {
        border: 1px solid black;
        width: 180px;
        height: 100px;
        position: relative;
      }

      .isotope .item .data {
        display: none;
      }

      .isotope .item .icons img {
        margin-right: 4px;
      }
      .isotope .item .icons {
        position: absolute;
        right: 2px;
        bottom: 0px;
      }

      /* semantics */
      .inprog { }
      .passed { }
      .failed { }

      .successful { background-color: #8D4; }
      .warning    { background-color: #FA3; }
      .failed     { background-color: #E88; }
      .inprog     { background-color: #FD3; }
    </style>
  </head>
  <body>
    <div id="controls">
      <ul class="group">
        <li>Arrange by</li>
        <li><a href="#status">Status</a></li>
        <li><a href="#history">History</a></li>
        <li><a href="#version">Version</a></li>
      </ul>
      <ul class="sort">
        <li>Sort by</li>
        <li><a href="#updated">Last Updated</a></li>
        <li><a href="#name">Name</a></li>
      </ul>
    </div>
    <div id="buildboard">
      <ul class="isotope">
        {% for build in builds %}
        <li class="item {{buildstatus(build)}}">
          <p class="buildname"><a href="{{build.links.builder}}">{{build.name}}</a></p>
          <p class="buildnumber"><a href="{{build.links.build}}">#{{build.number}}</a></p>
          <p class="status">{% if build.currentStep %}{{build.currentStep.text|join(' ')}}{% else %}{{build.text|join(' ')}}{% endif %}</p>
          <p class="icons">{#
            #}{% if 'running' in buildstatus(build) %} <img src="/static/build-running.gif" width="16" height="16"/>{% endif %}{#
            #}<img src="/static/build-{{history(build)}}.png" width="16" height="16"/>{#
          #}</p>
          <p class="data lastupdate">{{lastupdated(build)}}</p>
          <p class="data history">{{history(build)}}</p>
        </li>
        {% endfor %}
      </ul>
    </div>
    <script type="application/javascript" src="/static/jquery-1.7.js"></script>
    <script type="application/javascript" src="/static/isotope.min.js"></script>
    <script type="application/javascript" src="/static/buildboard.js"></script>
  </body>
</html>
