{% extends "employees/layouts/application.html" %}


{% block js %}
<script type="text/javascript" src="/static/employees/js/select2.js"></script>
<script type="text/javascript" src="/static/employees/js/jquery.fancybox-1.3.4.pack.js"></script>
{% endblock %}


{% block styles %}
<link rel="stylesheet" type="text/css" href="/static/employees/css/select2.css" />
<link rel="stylesheet" type="text/css" href="/static/employees/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/static/employees/css/ui-lightness/jquery-ui-1.8.21.custom.css" />
<link rel="stylesheet" type="text/css" href="/static/employees/css/jquery.fancybox-1.3.4.css" media="screen" />
{% endblock %}



{% block content %}


<header class="review-header" style="height:90px;">
    <h1>Send Reminders</h1>
    <p><i>Send email reminders for uncompleted reviews.</i></p>
</header>

{% if pp['error_message'] %}
    <h3 style="color:#b22222; opacity: .7">{{ pp['error_message'] }}</h3>
{% endif %}

<form action="/performancereviews/sendreminders" method="post" class="form-horizontal" style="height:275px;width:500px;" name="SendReminders">
    <fieldset>
        <div class="control-group">
            <label class="control-label">All Overdue Reviews</label>
            <div class="controls">
                <input type="checkbox" name="all_overdue" id= "all_overdue" onchange = "toggleReviews();"></input>
            </div><!-- controls -->
        </div><!-- control-group -->

        <div class="control-group">
            <label class="control-label">All Reviews Due Today</label>
            <div class="controls">
                <input type="checkbox" name="due_today" id= "due_today" onchange = "toggleReviews();"></input>
            </div><!-- controls -->
        </div><!-- control-group -->

        <div class="control-group">
            <label class="control-label">Performance Review:</label>
            <div class="controls">
              <select data-placeholder="Select..." class="input-xlarge" name="review_id" id="review_id" >
                    <option></option>
                    {% for review in pp['performancereviews'] %}
                    <option value="{{ review['_id'] }}" > {{ review['name'] }}</option>
                    {% endfor %}
                </select>     
            </div><!-- controls -->
        </div><!-- control-group -->

        <div class="control-group">
            <label class="control-label" for="textarea">Message </label>
                <div class="controls">
                    <textarea class="input-xlarge" id="message" name="message" rows ="4" placeholder="Enter a reminder message."></textarea>                    
                </div><!-- controls -->
        </div><!-- control-group -->
    </fieldset>
    <br/>
    <input type="submit" class ="btn btn-review" style="float:right; margin-right: 60px">
</form>

<script type="text/javascript" charset="utf-8">
jQuery(function($){
    $('#review_id').select2({
            allowClear: true,
            placeholder: "Select a performance review..."
    });
});
</script>
<script type="text/javascript" charset="utf-8">
    function toggleReviews() {
        if ((SendReminders.all_overdue.checked) || (SendReminders.due_today.checked)) {
            $("#review_id").select2("disable");
        }
        else {
            $("#review_id").select2("enable")
        }
    }
    </script>
{% endblock %}